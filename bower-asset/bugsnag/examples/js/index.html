<!doctype html>
<html>
<head>
  <script src="../../src/bugsnag.js" data-apikey="328dabd9a66ffd44465aa74e0d80ba80"></script>
  <script>
    Bugsnag.metaData = {
      "User Details": {
        name: "James Smith",
        email: "james@example.com"
      }
    };
  </script>
</head>

<body>
  <h1>Bugsnag JS Example</h1>

  <script>
  function parentOfCrashyFunction (arg1, arg2) {
    crashyFunction();
  }

  function crashyFunction () {
    // Anonymous function
    (function () {
      try {
        throw new Error("Something broke");
      } catch (exception) {
        Bugsnag.notifyException(exception);
      }
    })();
  }

  // Top-level function call
  parentOfCrashyFunction("random", 123);

  // Parse error (triggers window.onerror and stops script execution)
  // parseError("
  </script>

  <a href="#" onclick="javascript:parentOfCrashyFunction('test', 456); return false;">Click to call crashyFunction</a>
</body>
</html>
